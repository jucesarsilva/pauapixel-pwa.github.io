(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"7bf9":function(t,o,e){"use strict";e.r(o);var n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("section",{staticClass:"page row justify-center"},[e("q-card",{staticClass:"card-layout page-card",attrs:{inline:""}},[e("q-card-section",{staticClass:"full-height"},[t.loading.retrieving?e("section",{staticClass:"row justify-center items-center full-height"},[e("div",{staticClass:"column"},[e("q-spinner-facebook",{attrs:{color:"primary",size:"5em"}}),e("div",[t._v("carregando..")])],1)]):e("section",[e("q-breadcrumbs",{staticClass:"row q-mb-md text-grey-7",attrs:{"active-color":"primary"},scopedSlots:t._u([{key:"separator",fn:function(){return[e("q-icon",{attrs:{name:"chevron_right",color:"primary"}})]},proxy:!0}],null,!1,2813167706)},[e("q-breadcrumbs-el",{attrs:{icon:"home",label:"Projetos",to:"/"}}),e("q-breadcrumbs-el",{attrs:{icon:"assignment",label:"Projeto",to:"/projects/project/"+t.$route.params.id}}),e("q-breadcrumbs-el",{attrs:{icon:"import_contacts",label:"Sinopse",to:"/projects/project/synopsis/"+t.$route.params.id}})],1),t.project.synopsis?e("div",{staticClass:"column"},[e("div",{staticClass:"row justify-end q-mb-lg"},[e("q-btn",{staticClass:"btn-default q-mr-lg",attrs:{outline:"",size:"md",color:"secondary"},on:{click:function(o){return t.clean()}}},[t._v("\n              Limpar\n            ")]),e("q-btn",{staticClass:"btn-default text-white",attrs:{size:"md",color:"secondary",unelevated:"",loading:t.loading.saving},on:{click:function(o){return t.save()}},scopedSlots:t._u([{key:"loading.saving",fn:function(){return[t._v("Salvando...")]},proxy:!0}],null,!1,1674400051)},[t._v("\n              Salvar\n              ")])],1),e("div",{staticClass:"row fill-width q-mb-lg"},[e("q-input",{staticClass:"col-12",attrs:{label:"Nome",color:"secondary",counter:"",maxlength:"50"},model:{value:t.project.synopsis.name,callback:function(o){t.$set(t.project.synopsis,"name",o)},expression:"project.synopsis.name"}})],1),e("div",{staticClass:"row fill-width"},[e("q-input",{staticClass:"col-12",attrs:{label:"Descrição",type:"textarea",color:"secondary",outlined:"",counter:"",maxlength:"400"},model:{value:t.project.synopsis.description,callback:function(o){t.$set(t.project.synopsis,"description",o)},expression:"project.synopsis.description"}})],1)]):t._e()],1)])],1)],1)},s=[],a=(e("7f7f"),e("a85c")),i=e("8fdd"),c={name:"ProjectPage",data:function(){return{loading:{saving:!1,retrieving:!1},project:{}}},mounted:function(){this.init()},methods:{init:function(){this.$route.params.id?this.getProject(this.$route.params.id):this.$router.push({path:""})},clean:function(){this.project.synopsis&&(this.project.synopsis.name="",this.project.synopsis.description="")},save:function(){var t=this;this.loading.saving||(this.loading.saving=!0,i["a"].save(this.project).then((function(o){t.loading.saving=!1,t.init()})).catch((function(o){t.loading.saving=!1})))},getProject:function(t){var o=this;this.loading.retrieving=!0,i["a"].getProjectBy(t).then((function(t){o.loading.retrieving=!1,t.data instanceof Object?(o.project=t.data,t.data.synopsis||(o.project.synopsis={name:"",description:""})):(a["a"].error("O usuário não tem acesso a este conteúdo."),o.$router.push({name:"projects"}))})).catch((function(){o.loading.retrieving=!1}))}},watch:{"$route.params.id":function(){this.init()}}},r=c,l=e("2877"),u=Object(l["a"])(r,n,s,!1,null,null,null);o["default"]=u.exports},"8fdd":function(t,o,e){"use strict";e("551c"),e("06db");var n=e("bc3a"),s=e.n(n),a=e("5206"),i=e("bd5e"),c=e("ba11"),r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"codProject,ASC";return new Promise((function(c,r){s.a.get("".concat(a["a"].api,"project/").concat(t||"","?page=").concat(o,"&size=").concat(e,"&sort=").concat(n)).then((function(t){c(t)})).catch((function(t){Object(i["a"])(t,"Não foi possível recuperar o projeto para esse usuário."),r(t)}))}))},l=function(t){return new Promise((function(o,e){s.a.get("".concat(a["a"].api,"project/findByCodProject/").concat(t)).then((function(t){o(t)})).catch((function(t){Object(i["a"])(t,"Não foi possível recuperar o projeto para esse usuário."),e(t)}))}))},u=function(t){return new Promise((function(o,e){s()({method:"post",url:"".concat(a["a"].api,"project/save"),data:t,headers:{"Content-Type":"application/json"}}).then((function(t){Object(c["a"])("Projeto salvo com sucesso."),o(t)})).catch((function(t){Object(i["a"])(t,"Não foi possível salvar o Projeto."),e(t)}))}))},p=function(t){return new Promise((function(o,e){s.a.get("".concat(a["a"].api,"project/remove/").concat(t)).then((function(t){o(t)})).catch((function(t){Object(i["a"])(t,"Não foi possível remover o projeto."),e(t)}))}))};o["a"]={findAll:r,getProjectBy:l,save:u,remove:p}},ba11:function(t,o,e){"use strict";var n=e("a85c"),s=function(t){n["a"].success(t)};o["a"]=s},bd5e:function(t,o,e){"use strict";var n=e("a85c"),s=function(t,o){t&&t.ERR_INTERNET_DISCONNECTED||t&&t.SESSION_EXPIRED||n["a"].error(o)};o["a"]=s}}]);